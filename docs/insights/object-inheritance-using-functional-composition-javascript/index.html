<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <title>
        Object Inheritance Using Functional Composition in JavaScript
    </title>

    <link href="/stylesheets/site.css" rel="stylesheet" />
    <link href="/stylesheets/plugins.css" rel="stylesheet" />
    <link href="/stylesheets/styles.css" rel="stylesheet" />

    <script src="/javascripts/site.js"></script>
</head>

<body class="insights insights_object-inheritance-using-functional-composition-javascript insights_object-inheritance-using-functional-composition-javascript_index">
    <!-- start page loading -->
    <div id="preloader">
        <div class="row loader">
            <div class="loader-icon"></div>
        </div>
    </div>
    <!-- end page loading -->

    <!-- start main-wrapper section -->
    <div class="main-wrapper">

        <!-- start header section -->
<header>
    <div class="navbar-default">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-12 col-lg-12">
                    <div class="menu_area alt-font">
                        <nav class="navbar navbar-expand-lg navbar-light no-padding">

                            <div class="navbar-header navbar-header-custom">
                                <!-- start logo -->
                                <a href="/" class="navbar-brand">
                                    <img id="logo" src="/images/logos/zero-logo-purple-raleway.png" alt="zero">
                                </a>
                                <!-- end logo -->
                            </div>

                            <div class="navbar-toggler"></div>

                            <!-- start menu Area -->
                            <ul class="navbar-nav ml-auto" id="nav">
                                <li class="home_nav_link"><a href="/">Home</a></li>

                                <li class="services_nav_link"><a href="/services">Services</a></li>

                                <li class="work_nav_link"><a href="/work">Case Studies</a></li>

                                <li class="insights_nav_link"><a href="/insights">Insights</a>
                                    <ul>
                                        <li>
                                            <span class="new-tag">new</span> <a href="/insights/object-inheritance-using-functional-composition-javascript/">Object Inheritance Using Functional Composition in JavaScript</a>
                                        </li>
                                    </ul>
                                </li>
                            </ul>
                            <!-- end menu Area -->

                            <div class="margin-20px-left sm-display-none">
                                <a class="butn scroll-to-contact" href="javascript:void(0)">Get In Touch</a>
                            </div>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
    </div>
</header>
<!-- end header section -->

        

<!-- start blog post section -->
<section class="blogs">
  <div class="container">
    <div class="row justify-content-md-center">

      <!--  start blog center-->
      <div class="col-lg-9 col-md-12">
        <div class="posts">
          <!--  start post-->
          <div class="post">
            <div class="content" style="padding: 0; background-color: #fff">
              <div class="post-meta">
                <div class="post-title">
                  <h5>Object Inheritance Using Functional Composition in JavaScript</h5>
                </div>
                <ul class="meta">
                  <li>
                    <a href="javascript:void(0);">
                      <i class="fa fa-user" aria-hidden="true"></i> Andras Varga
                    </a>
                  </li>
                  <li>
                    <a href="javascript:void(0);">
                      <i class="fas fa-calendar-alt" aria-hidden="true"></i> Jan  6, 2019
                    </a>
                  </li>
                </ul>
              </div>
              <div class="post-cont">
                <h3>Picture this...</h3>

<p>You’re a developer working away at a project which is responsible for modelling animals. At this point, you have created an Animal class which is to be extended by each animal you create.</p>
<div class="highlight"><pre class="highlight javascript"><code><span class="kd">class</span> <span class="nx">Animal</span> <span class="p">{</span>
  <span class="kd">constructor</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="nx">name</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">isHungry</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="nx">getName</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="nx">eat</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">isHungry</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>Using this class, you create a Dog which can bark and a Cat that can hiss…</p>
<div class="highlight"><pre class="highlight javascript"><code><span class="kd">class</span> <span class="nx">Dog</span> <span class="kd">extends</span> <span class="nx">Animal</span> <span class="p">{</span>
  <span class="kd">constructor</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">super</span><span class="p">(</span><span class="nx">name</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="nx">bark</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// Crazy barking logic</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Woof!"</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nx">Cat</span> <span class="kd">extends</span> <span class="nx">Animal</span> <span class="p">{</span>
  <span class="kd">constructor</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">super</span><span class="p">(</span><span class="nx">name</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="nx">hiss</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// Crazy hissing logic</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Hiss!"</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="kd">const</span> <span class="nx">dog</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Dog</span><span class="p">(</span><span class="s1">'Mr. Dog'</span><span class="p">);</span>
<span class="nx">dog</span><span class="p">.</span><span class="nx">bark</span><span class="p">();</span> <span class="c1">// Woof!</span>
<span class="nx">dog</span><span class="p">.</span><span class="nx">eat</span><span class="p">();</span> <span class="c1">// isHungry = false</span>

<span class="kd">const</span> <span class="nx">cat</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Cat</span><span class="p">(</span><span class="s1">'Mrs. Cat'</span><span class="p">);</span>
<span class="nx">cat</span><span class="p">.</span><span class="nx">hiss</span><span class="p">();</span> <span class="c1">// Hiss!</span>
<span class="nx">cat</span><span class="p">.</span><span class="nx">eat</span><span class="p">();</span> <span class="c1">// isHungry = false</span>
</code></pre></div>
<p>All was going well until your manager had a demand for you: a Dog-Cat that can hiss, bark and does not need to eat! You now have to selectively choose logic out of the Animal, as well as the Dog and Cat to create the Dog-Cat. This is a pretty messy task while using the current code and could be avoided if using functional composition.</p>

<h3>Enter: Functional Composition</h3>

<p>Object inheritance is an alternative to classical inheritance and can be very powerful when used properly. The idea is that instead of designing our behaviour around what it belongs to, we design and group it around what it does. We then piece the behaviour together using functional composition to compose our object. That being said, instead of defining a basis to extend for our Cat and Dog classes, we will define the behaviour of both.</p>
<div class="highlight"><pre class="highlight javascript"><code><span class="kd">const</span> <span class="nx">canEat</span> <span class="o">=</span> <span class="nx">state</span> <span class="o">=&gt;</span> <span class="p">({</span>
  <span class="na">eat</span><span class="p">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="nx">state</span><span class="p">.</span><span class="nx">isHungry</span> <span class="o">=</span> <span class="kc">false</span>
<span class="p">});</span>

<span class="kd">const</span> <span class="nx">canBark</span> <span class="o">=</span> <span class="nx">state</span> <span class="o">=&gt;</span> <span class="p">({</span>
  <span class="na">bark</span><span class="p">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Woof!"</span><span class="p">)</span>
<span class="p">});</span>

<span class="kd">const</span> <span class="nx">canHiss</span> <span class="o">=</span> <span class="nx">state</span> <span class="o">=&gt;</span> <span class="p">({</span>
  <span class="na">hiss</span><span class="p">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Hiss!"</span><span class="p">)</span>
<span class="p">});</span>
</code></pre></div>
<p>These three functions are defined to be closures. Thus, they accept a <code>state</code> from a higher-order function which in our case will be the animals. They then return an object of behavioural methods that belong to an animal that <code>canBark</code>, <code>canHiss</code> or <code>canEat</code>. This now allows us to compose an animal using these functions.</p>
<div class="highlight"><pre class="highlight javascript"><code><span class="kd">const</span> <span class="nx">Dog</span> <span class="o">=</span> <span class="nx">name</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">let</span> <span class="nx">state</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">name</span><span class="p">,</span>
    <span class="na">isHungry</span><span class="p">:</span> <span class="kc">true</span>
  <span class="p">};</span>

  <span class="k">return</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">assign</span><span class="p">({},</span> <span class="nx">canBark</span><span class="p">(</span><span class="nx">state</span><span class="p">),</span> <span class="nx">canEat</span><span class="p">(</span><span class="nx">state</span><span class="p">));</span>
<span class="p">};</span>

<span class="kd">const</span> <span class="nx">Cat</span> <span class="o">=</span> <span class="nx">name</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">let</span> <span class="nx">state</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">name</span><span class="p">,</span>
    <span class="na">isHungry</span><span class="p">:</span> <span class="kc">true</span>
  <span class="p">};</span>

  <span class="k">return</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">assign</span><span class="p">({},</span> <span class="nx">canHiss</span><span class="p">(</span><span class="nx">state</span><span class="p">),</span> <span class="nx">canEat</span><span class="p">(</span><span class="nx">state</span><span class="p">));</span>
<span class="p">};</span>

<span class="kd">const</span> <span class="nx">dog</span> <span class="o">=</span> <span class="nx">Dog</span><span class="p">(</span><span class="s1">'Mr. Dog'</span><span class="p">);</span>
<span class="nx">dog</span><span class="p">.</span><span class="nx">bark</span><span class="p">();</span> <span class="c1">// Woof!</span>
<span class="nx">dog</span><span class="p">.</span><span class="nx">eat</span><span class="p">();</span> <span class="c1">// isHungry = false</span>

<span class="kd">const</span> <span class="nx">cat</span> <span class="o">=</span> <span class="nx">Cat</span><span class="p">(</span><span class="s1">'Mrs. Cat'</span><span class="p">);</span>
<span class="nx">cat</span><span class="p">.</span><span class="nx">hiss</span><span class="p">();</span> <span class="c1">// Hiss!</span>
<span class="nx">cat</span><span class="p">.</span><span class="nx">eat</span><span class="p">();</span> <span class="c1">// isHungry = false</span>
</code></pre></div>
<p>In the code above, you will see the Dog and Cat classes rewritten using functional composition. Immediately, you can see that <code>state</code> is defined which holds the state of the animal. We then use this to construct the behaviour of the animal using <code>Object.assign</code> and the previously defined functions. It is important to realize that <code>Object.assign</code> will take the returned objects of each function and merge them into one resulting in our animal’s object. In this case, our Dog can still bark, our Cat can still hiss and both can still eat. Aside from that, we have also created a truly private state as no code besides the behavioural functions and the animal itself can access <code>state</code>.</p>

<p>Now that we have all of our behaviour divided into separate functions, we can now easily create the demanded Dog-Cat!</p>
<div class="highlight"><pre class="highlight javascript"><code><span class="kd">const</span> <span class="nx">DogCat</span> <span class="o">=</span> <span class="nx">name</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">let</span> <span class="nx">state</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">name</span>
  <span class="p">};</span>

  <span class="k">return</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">assign</span><span class="p">({},</span> <span class="nx">canHiss</span><span class="p">(</span><span class="nx">state</span><span class="p">),</span> <span class="nx">canBark</span><span class="p">(</span><span class="nx">state</span><span class="p">));</span>
<span class="p">};</span>

<span class="kd">const</span> <span class="nx">dogCat</span> <span class="o">=</span> <span class="nx">DogCat</span><span class="p">(</span><span class="s1">'Mr. Dog Cat'</span><span class="p">);</span>
<span class="nx">dogCat</span><span class="p">.</span><span class="nx">hiss</span><span class="p">();</span> <span class="c1">// Hiss!</span>
<span class="nx">dogCat</span><span class="p">.</span><span class="nx">bark</span><span class="p">();</span> <span class="c1">// Woof!</span>
</code></pre></div>
<p>It&#39;s that easy! In fact, we could create many different variations of animals using the same three functions we have defined without having any copied code.</p>

<p>In addition to this, we can version our models easily without making a direct change to any animal itself. If we wanted a Dog that <code>canBark</code> and another Dog that can <code>canDeeplyBark</code> we can easily make another function that knows how to deal with the state of the dog to give it the behaviour of a deep bark.</p>

<h3>Conclusion</h3>

<p>Object inheritance using functional composition provides us with three major favours:</p>

<ul>
<li>Separate state from behaviour</li>
<li>Separate behaviour from identity</li>
<li>More importantly, prevent the developer from predicting the future</li>
</ul>

<p>It is fairly common for a developer to attempt to predict the future when writing a class using classical inheritance. It is also fairly common for these predictions to go unused as the project matures resulting in many unused methods. Functional composition allows the developer to build only what is needed and grants the power to expand easily later on.</p>

<p>Both classical inheritance and functional composition have their strengths and weaknesses. It comes down to the situation when deciding which to use. It&#39;s known that if the relationship you are trying to model is more of a <code>Has An</code> (eg. a car has an engine), then use functional composition. If it&#39;s more of <code>Is a</code> (eg. john is a human) then use classical inheritance. Although this is just a loose rule as more and more are starting to favour functional composition over the alternatives.</p>

              </div>
            </div>
          </div>
          <!--  end post-->
        </div>
      </div>
      <!--  end blog center-->

    </div>
  </div>
</section>
<!-- end blog post section -->



        <!-- start contact form -->
<section id="contactUs" data-scroll-index="6" class="bg-light-gray">
    <div class="container">
        <div class="row">
            <div class="col-12 wow fadeIn">
                <div class="row">
                
                    <div class="col-lg-6 col-sm-12 order-lg-2 section-heading d-flex align-items-center justify-content-center">
                        <h3>
                            Let's get in touch.
                        </h3>
                    </div>

                    <form method="POST" action="https://formspree.io/monarch@zeroprojects.ca" class="mailform off2 col-lg-6 col-sm-12 order-lg-1">
                        <input type="hidden" name="form-type" value="contact">
                        <div class="row">
                            <div class="col-md-6">
                                <input type="text" name="name" placeholder="Your Name:" data-constraints="@LettersOnly @NotEmpty">
                            </div>
                            <div class="col-md-6">
                                <input type="text" name="email" placeholder="Email:" data-constraints="@Email @NotEmpty">
                            </div>
                            <div class="col-md-12">
                                <textarea name="message" rows="5" placeholder="Message:" data-constraints="@NotEmpty"></textarea>
                            </div>
                            <div class="mfControls col-md-12">
                                <button type="submit" class="butn">Send</button>
                            </div>
                        </div>
                    </form>

                </div>
            </div>
        </div>
    </div>
</section>
<!-- end contact form -->

        <!-- start footer section -->
<footer>
    <div class="container">
        <div class="row">
        
            <div class="col-md-6 sm-margin-30px-bottom">
                <img alt="footer-logo" width="150" src="/images/logos/zero-logo-white-raleway.png">
                <p class="margin-20px-top">
                    Zero is a boutique software agency from Toronto. We custom-build apps and tools for companies like yours.
                </p>
            </div>

            <div class="col-md-6 sm-margin-30px-bottom">
                <h3 class="footer-title-style2">
                    Quick Links
                </h3>
                <div class="row">
                    <div class="col-md-6 no-padding-right xs-padding-15px-right">
                        <ul class="footer-list xs-margin-5px-bottom">

                            <li><a href="/">Home</a></li>
                            <li><a href="/services">Services</a></li>
                        </ul>
                    </div>
                    <div class="col-md-6 no-padding-right xs-padding-15px-right">
                        <ul class="footer-list">
                            <li><a href="/work">Case Studies</a></li>
                            <li><a href="/insights">Insights</a></li>
                        </ul>
                    </div>
                </div>
            </div>

        </div>

    </div>
    <div class="footer-bar xs-font-size13">
        <div class="container">
            <div class="row">
                <div class="col-md-6 text-left xs-text-center xs-margin-5px-bottom">
                    <p>&copy;2019 Zero Projects, Inc. All Rights Reserved.</p>
                </div>
            </div>
        </div>
    </div>
</footer>
<!-- end footer section -->

        <!-- start scroll to top -->
        <a href="javascript:void(0)" class="scroll-to-top"><i class="fas fa-angle-up" aria-hidden="true"></i></a>
        <!-- end scroll to top -->

    </div>
    <!-- end main-wrapper -->


    <!-- all js include start -->

    <!-- jQuery -->
    <script src="/javascripts/jquery.min.js"></script>

    <!-- modernizr js -->
    <script src="/javascripts/modernizr.js"></script>

    <!-- bootstrap -->
    <script src="/javascripts/bootstrap.min.js"></script>

    <!-- scrollIt -->
    <script src="/javascripts/scrollIt.min.js"></script>

    <!-- navigation -->
    <script src="/javascripts/nav-menu.js"></script>

    <!-- tab -->
    <script src="/javascripts/easy.responsive.tabs.js"></script>

    <!-- owl carousel -->
    <script src="/javascripts/owl.carousel.js"></script>

    <!-- jquery.counterup.min -->
    <script src="/javascripts/jquery.counterup.min.js"></script>

    <!-- stellar js -->
    <script src="/javascripts/jquery.stellar.min.js"></script>

    <!-- waypoints js -->
    <script src="/javascripts/waypoints.min.js"></script>

    <!-- tab js -->
    <script src="/javascripts/tabs.min.js"></script>

    <!-- jquery.magnific-popup js -->
    <script src="/javascripts/jquery.magnific-popup.min.js"></script>

    <!-- wow js -->
    <script src="/javascripts/wow.js"></script>

    <!-- custom scripts -->
    <script src="/javascripts/main.js"></script>

    <!-- all js include end -->
</body>

</html>